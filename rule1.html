<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>In the Lab</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        background: #f9f9f9;
        color: #333;
      }
      header {
        background: #004080;
        color: #fff;
        padding: 1rem;
        text-align: center;
        position: sticky;
        top: 0;
      }
      .progress-container {
        width: 80%;
        margin: auto;
        background: #ccc;
        border-radius: 8px;
        height: 16px;
        margin-top: 0.5rem;
      }
      .progress-bar {
        height: 16px;
        width: 0;
        background: #00cc66;
        border-radius: 8px;
        transition: width 0.3s;
      }
      main {
        max-width: 900px;
        margin: auto;
        padding: 2rem;
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
      }
      .card {
        background: #fff;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        text-align: center;
        font-weight: bold;
        transition: transform 0.2s;
      }
      .card:hover {
        transform: scale(1.03);
      }

      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        justify-content: center;
        align-items: center;
      }
      .modal-content {
        background: #fff;
        padding: 2rem;
        border-radius: 12px;
        max-width: 500px;
        text-align: center;
        position: relative;
      }
      .close {
        cursor: pointer;
        font-size: 1.5rem;
        position: absolute;
        right: 1rem;
        top: 0.5rem;
      }
      .back-btn {
        display: inline-block;
        margin-top: 2rem;
        padding: 0.8rem 1.5rem;
        background: #666;
        color: #fff;
        text-decoration: none;
        border-radius: 8px;
        font-weight: bold;
        transition: background 0.2s;
      }
      .back-btn:hover {
        background: #444;
      }
      .icon {
        width: 60px;
        height: 60px;
        margin-bottom: 1rem;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>În Laborator</h1>
      <div class="progress-container">
        <div id="progress" class="progress-bar"></div>
      </div>
    </header>

    <main>
      <p>Fă click pe fiecare card pentru a descoperi detalii.</p>
      <div class="grid">
        <div class="card" data-id="rule1-sub1" data-modal="modal1">
          Intrăm numai chemați de profesor
        </div>
        <div class="card" data-id="rule1-sub2" data-modal="modal2">
          Păstrăm curățenia
        </div>
        <div class="card" data-id="rule1-sub3" data-modal="modal3">
          Nu umblăm la prize/cabluri
        </div>
        <div class="card" data-id="rule1-sub4" data-modal="modal4">
          Fără mâncare și lichide
        </div>
      </div>

      <!-- <a id="quizLink" class="quiz-link disabled" href="quiz.html"
        >Go to Quiz</a
      > -->
      <a href="index.html" class="back-btn">⬅ Back to Main Page</a>
    </main>

    <!-- Modals -->
    <div id="modal1" class="modal">
      <div class="modal-content">
        <span class="close" data-close="modal1">&times;</span>
        <h2>Intrăm numai chemați de profesor</h2>
        <p>
          Accesul și desfășurarea activităților în laboratorul de informatică se
          face numai sub supravegherea profesorului. Nu alergăm în laborator.
        </p>
      </div>
    </div>
    <div id="modal2" class="modal">
      <div class="modal-content">
        <span class="close" data-close="modal2">&times;</span>
        <h2>Păstrăm curățenia</h2>
        <p>
          La finalul orei, elevii vor lăsa laboratorul în ordine. Mereu când
          utilizăm calculatorul vom avea mâinile uscate și curate.
        </p>
      </div>
    </div>
    <div id="modal3" class="modal">
      <div class="modal-content">
        <span class="close" data-close="modal3">&times;</span>
        <h2>Nu umblăm la prize/cabluri</h2>
        <p>
          Este interzis ca elevii să conecteze sau să deconecteze de la priză
          calculatoarele sau orice alt echipament din laborator, să umble la
          tabloul de siguranțe sau să manipuleze cablurile electrice aflate sub
          tensiune.
        </p>
      </div>
    </div>
    <div id="modal4" class="modal">
      <div class="modal-content">
        <span class="close" data-close="modal4">&times;</span>
        <h2>Fără mâncare și lichide</h2>
        <p>
          Produsele alimentare și băuturile nu sunt permise în apropierea
          calculatorului. Firimiturile sau răsturnarea din greșeală a lichidelor
          pot duce la stricarea tastaturii sau chiar la scurtcircuite.
        </p>
      </div>
    </div>

    <script>
      const totalItems = 4 + 4 + 4 + 4 + 4;
      if (!localStorage.getItem('completed')) {
        localStorage.setItem('completed', JSON.stringify([]));
      }
      const completed = JSON.parse(localStorage.getItem('completed'));
      const progressBar = document.getElementById('progress');
      // const quizLink = document.getElementById('quizLink');

      function updateProgress() {
        const percent = Math.min((completed.length / totalItems) * 100, 100);
        progressBar.style.width = percent + '%';
        // if (completed.length >= totalItems) {
        //   quizLink.classList.remove('disabled');
        //   quizLink.classList.add('enabled');
        // }
      }
      updateProgress();

      document.querySelectorAll('.card').forEach((card) => {
        card.addEventListener('click', () => {
          const id = card.getAttribute('data-id');
          const modalId = card.getAttribute('data-modal');
          document.getElementById(modalId).style.display = 'flex';
          if (id && !completed.includes(id)) {
            completed.push(id);
            localStorage.setItem('completed', JSON.stringify(completed));
            updateProgress();
          }
        });
      });

      document.querySelectorAll('.close').forEach((btn) => {
        btn.addEventListener('click', () => {
          document.getElementById(
            btn.getAttribute('data-close')
          ).style.display = 'none';
        });
      });

      window.addEventListener('click', (e) => {
        if (e.target.classList.contains('modal'))
          e.target.style.display = 'none';
      });
    </script>
  </body>
</html>
